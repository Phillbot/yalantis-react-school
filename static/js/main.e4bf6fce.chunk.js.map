{"version":3,"sources":["api/index.ts","components/SkeletonLoader.tsx","components/pages/Home/index.tsx","functions/fetches.ts","actions/getRowAtction.ts","Router.tsx","reducers/getRowReducer.ts","reducers/index.ts","index.tsx","components/App/App.tsx"],"names":["Yalantis","getUsers","SkeletonLoaderChart","className","count","circle","height","width","SkeletonLoaderHome","Home","props","state","error","isLoaded","userList","this","setState","bind","baseUrl","fetch","then","res","json","result","January","February","March","April","May","June","July","August","September","October","November","December","forEach","user","dob","birthMonth","moment","format","push","yalantisGetUsersFetch","monthAndCount","colors","slices","i","Object","keys","length","month","values","slice","offset","users","monthUserList","row","Helmet","chartType","loader","data","concat","options","title","titleTextStyle","fontSize","fontName","is3D","pieSliceText","pieSliceTextStyle","bold","color","pieSliceBorderColor","legend","tooltip","text","chartArea","left","top","chartEvents","eventName","callback","chartWrapper","google","chart","getChart","visualization","events","addListener","e","getRowToDispatch","sort","a","b","map","id","firstName","lastName","key","Component","connect","getRowReducer","dispatch","type","payload","getRowAtction","Router","exact","path","component","render","to","InitialState","rootReducer","combineReducers","action","store","createStore","ReactDOM","basename","document","getElementById"],"mappings":"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","file":"static/js/main.e4bf6fce.chunk.js","sourcesContent":["export const Yalantis = {\n  baseUrl: \"https://yalantis-react-school.herokuapp.com/api/\",\n  get: {\n    getUsers: \"task0/users\"\n  }\n};\n","import React from \"react\";\nimport Skeleton from \"react-loading-skeleton\";\n\nexport function SkeletonLoaderChart() {\n  return (\n    <>\n      <div className=\"desctop-chart-home-skeleton center\">\n        <Skeleton count={1} circle={true} height={450} width={450} />\n      </div>\n      <div className=\"mobile-chart-home-skeleton center\">\n        <Skeleton count={1} circle={true} height={250} width={250} />\n      </div>\n    </>\n  );\n}\n\nexport function SkeletonLoaderHome() {\n  return (\n    <>\n      <div className=\"row mt120 desctop-home-skeleton\">\n        <div className=\"col l7 m12 center\">\n          <Skeleton count={1} circle={true} height={450} width={450} />\n        </div>\n        <div className=\"col l4 m12 mt20\">\n          <Skeleton count={20} />\n        </div>\n      </div>\n\n      <div className=\"row mt40 mobile-home-skeleton\">\n        <div className=\"col s12 center\">\n          <Skeleton count={1} circle={true} height={250} width={250} />\n        </div>\n        <div className=\"col s12 mt50\">\n          <Skeleton count={15} />\n        </div>\n      </div>\n    </>\n  );\n}","import React, { Component } from \"react\";\nimport { Helmet } from \"react-helmet\";\nimport { connect } from \"react-redux\";\nimport { yalantisGetUsersFetch } from \"../../../functions/fetches\";\nimport moment from \"moment\";\nimport { IHomeProps, IHomeState, IYalantisGetUsers } from \"../../../Interfaces\";\nimport getRowAtction from \"../../../actions/getRowAtction\";\nimport { Chart } from \"react-google-charts\";\nimport \"./home.scss\";\nimport { SkeletonLoaderHome, SkeletonLoaderChart } from \"../../SkeletonLoader\";\n\nclass Home extends Component<IHomeProps, IHomeState> {\n  constructor(props: IHomeProps) {\n    super(props);\n    this.state = {\n      error: null,\n      isLoaded: false,\n      userList: {}\n    };\n  }\n\n  componentDidMount() {\n    this.setState = this.setState.bind(this);\n    yalantisGetUsersFetch(this.setState);\n  }\n\n  render() {\n    const { error, isLoaded, userList } = this.state;\n\n    if (error) {\n      return (\n        <div className=\"container\">\n          <h4 className=\"center mt50 mb50\">Произошла ошибка :-(</h4>\n          <p className=\"center\">Попробуйте обновить страницу </p>\n        </div>\n      );\n    } else if (!isLoaded) {\n      return (\n        <div className=\"container-fluid\">\n          <SkeletonLoaderHome />\n        </div>\n      );\n    } else {\n      const monthAndCount: any[] = [];\n      const colors: any[] = [];\n      const slices: any = {};\n\n      for (let i = 0; i < Object.keys(userList).length; i++) {\n        const month = Object.keys(userList)[i];\n        const count: any = Object.values(userList)[i];\n\n        monthAndCount.push([month.slice(0, 3), count.length]);\n\n        const obj = { offset: 0.04 };\n        slices[i] = obj;\n      }\n\n      for (let i = 0; i < Object.values(userList).length; i++) {\n        const users: any = Object.values(userList)[i];\n\n        if (users.length < 2) {\n          colors.push(\"#bdbdbd\");\n        } else if (users.length > 2 && users.length <= 6) {\n          colors.push(\"#3f51b5\");\n        } else if (users.length > 6 && users.length <= 10) {\n          colors.push(\"#4caf50\");\n        } else if (users.length >= 11) {\n          colors.push(\"#f44336\");\n        }\n      }\n\n      const monthUserList: any =\n        this.props.row !== null\n          ? Object.values(userList)[this.props.row]\n          : false;\n\n      return (\n        <div className=\"home container-fluid\">\n          <Helmet>\n            <title>Yalantis React School</title>\n          </Helmet>\n\n          <div className=\"row\">\n            <div className=\"col l7 s12\">\n              <Chart\n                className=\"chart\"\n                chartType=\"PieChart\"\n                loader={\n                  <div>\n                    <SkeletonLoaderChart />\n                  </div>\n                }\n                data={[[\"month\", \"users\"]].concat(monthAndCount)}\n                options={{\n                  title: \"Yalantis Users\",\n                  titleTextStyle: {\n                    fontSize: 22\n                  },\n                  fontName: \"Ubuntu\",\n                  is3D: true,\n                  pieSliceText: \"label\",\n                  pieSliceTextStyle: {\n                    fontSize: 14,\n                    bold: true,\n                    color: \"#fff\"\n                  },\n                  pieSliceBorderColor: \"green\",\n                  legend: \"none\",\n                  tooltip: {\n                    text: \"both\"\n                  },\n                  colors,\n                  chartArea: {\n                    left: 0,\n                    top: 50,\n                    width: \"100%\",\n                    height: \"100%\"\n                  },\n                  slices\n                }}\n                chartEvents={[\n                  {\n                    eventName: \"ready\",\n                    callback: ({ chartWrapper, google }) => {\n                      const chart: any = chartWrapper.getChart();\n                      google.visualization.events.addListener(\n                        chart,\n                        \"onmouseover\",\n                        (e: any) => {\n                          const { row } = e;\n                          this.props.getRowToDispatch(row);\n                        }\n                      );\n                      google.visualization.events.addListener(\n                        chart,\n                        \"onmouseout\",\n                        (e: any) => {\n                          this.props.getRowToDispatch(null);\n                        }\n                      );\n                    }\n                  }\n                ]}\n              />\n            </div>\n            <div className=\"col l4 s12 users-container\">\n              {this.props.row !== null ? (\n                <h4 className=\"center\">\n                  {Object.keys(userList)[this.props.row]}\n                </h4>\n              ) : (\n                \"\"\n              )}\n\n              {this.props.row !== null ? (\n                <table className=\"centered\">\n                  <thead>\n                    <tr>\n                      <th>First Name</th>\n                      <th>Last Name</th>\n                      <th>Birthday</th>\n                    </tr>\n                  </thead>\n\n                  <tbody>\n                    {monthUserList\n                      .sort((a: any, b: any) =>\n                        a.dob > b.dob ? 1 : b.dob > a.dob ? -1 : 0\n                      )\n                      .map((users: IYalantisGetUsers) => {\n                        const { id, firstName, lastName, dob } = users;\n\n                        return (\n                          <tr key={id}>\n                            <td>{firstName}</td>\n                            <td>{lastName}</td>\n                            <td>\n                              {moment(dob, \"YYYY-MM-DD HH:mm:ss\").format(\n                                \"YYYY-MM-DD\"\n                              )}\n                            </td>\n                          </tr>\n                        );\n                      })}\n                  </tbody>\n                </table>\n              ) : (\n                <h4 className=\"center\"> Hover month to see data </h4>\n              )}\n            </div>\n          </div>\n        </div>\n      );\n    }\n  }\n}\n\nconst mapStateToPRops = (state: any) => {\n  return {\n    row: state.getRowReducer.row\n  };\n};\n\nconst mapDispatchToProps = (dispatch: Function) => {\n  return {\n    getRowToDispatch: (row: number) => {\n      dispatch(getRowAtction(row));\n    }\n  };\n};\n\nexport default connect(mapStateToPRops, mapDispatchToProps)(Home);\n","import { Yalantis } from \"../api\";\nimport { IYalantisGetUsers } from \"../Interfaces/index\";\nimport moment from \"moment\";\n\nexport const yalantisGetUsersFetch = (setState: Function): void => {\n  const {\n    baseUrl,\n    get: { getUsers }\n  } = Yalantis;\n\n  fetch(`${baseUrl}${getUsers}`)\n    .then(res => res.json())\n    .then(\n      result => {\n        const userList = {\n          January: [],\n          February: [],\n          March: [],\n          April: [],\n          May: [],\n          June: [],\n          July: [],\n          August: [],\n          September: [],\n          October: [],\n          November: [],\n          December: []\n        } as any;\n\n        result.forEach((user: IYalantisGetUsers) => {\n          const { dob } = user;\n\n          const birthMonth: string = moment(dob, \"YYYY-MM-DD HH:mm:ss\").format(\n            \"MM\"\n          );\n\n          const {\n            January,\n            February,\n            March,\n            April,\n            May,\n            June,\n            July,\n            August,\n            September,\n            October,\n            November,\n            December\n          } = userList;\n\n          switch (birthMonth) {\n            case \"01\":\n              January.push(user);\n              break;\n            case \"02\":\n              February.push(user);\n              break;\n            case \"03\":\n              March.push(user);\n              break;\n            case \"04\":\n              April.push(user);\n              break;\n            case \"05\":\n              May.push(user);\n              break;\n            case \"06\":\n              June.push(user);\n              break;\n            case \"07\":\n              July.push(user);\n              break;\n            case \"08\":\n              August.push(user);\n              break;\n            case \"09\":\n              September.push(user);\n              break;\n            case \"10\":\n              October.push(user);\n              break;\n            case \"11\":\n              November.push(user);\n              break;\n            case \"12\":\n              December.push(user);\n              break;\n\n            default:\n              break;\n          }\n        });\n\n        setState({\n          isLoaded: true,\n          userList\n        });\n      },\n      error => {\n        setState({\n          isLoaded: true,\n          error: true\n        });\n      }\n    );\n};\n","export default function getRowAtction(row: number) {\n  return {\n    type: \"ROW\",\n    payload: row\n  };\n}\n","import React from \"react\";\nimport { Route, Switch, Redirect } from \"react-router-dom\";\n\nimport Home from \"./components/pages/Home\";\n\nexport default function Router() {\n  return (\n    <Switch>\n      <Route exact path=\"/\" component={Home} />\n      <Route path=\"*\" render={() => <Redirect to=\"/\" />} />\n    </Switch>\n  );\n}\n","const InitialState = {\n  row: null\n};\n\nexport default function getRowReducer(state: {} = InitialState, action: any) {\n  switch (action.type) {\n    case \"ROW\":\n      return { ...state, row: action.payload };\n\n    default:\n      return state;\n  }\n}\n","import { combineReducers } from \"redux\";\nimport getRowReducer from \"./getRowReducer\";\n\nconst rootReducer = combineReducers({\n  getRowReducer\n});\n\nexport default rootReducer;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App/App\";\nimport { Provider } from \"react-redux\";\nimport { createStore } from \"redux\";\nimport rootReducer from \"./reducers\";\n\nconst store = createStore(rootReducer);\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n","import React from \"react\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport Router from \"../../Router\";\nimport \"materialize-css/dist/css/materialize.min.css\";\n\nimport \"./app.scss\";\n\nexport default function App() {\n  return (\n    <BrowserRouter basename=\"yalantis-react-school\">\n      <div className=\"app\">\n        <Router />\n      </div>\n    </BrowserRouter>\n  );\n}\n"],"sourceRoot":""}